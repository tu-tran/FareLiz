CREATE TABLE IF NOT EXISTS ROUTE (LID INTEGER PRIMARY KEY, SDEPARTURE TEXT, SDESTINATION TEXT);
CREATE UNIQUE INDEX IF NOT EXISTS ROUTE_DEPT_DEST ON ROUTE(SDEPARTURE, SDESTINATION);

CREATE TABLE IF NOT EXISTS JOURNEY (LID INTEGER PRIMARY KEY, LROUTEID INTEGER, TDEPARTURE TEXT, TRETURN TEXT, FOREIGN KEY (LROUTEID) REFERENCES ROUTE(LID) ON DELETE CASCADE ON UPDATE CASCADE);
CREATE INDEX IF NOT EXISTS JOURNEY_ROUTE_ID_IDX ON JOURNEY(LROUTEID);

CREATE TABLE IF NOT EXISTS JOURNEY_DATA (LID INTEGER PRIMARY KEY, TUPDATE TEXT, LJOURNEYID INTEGER, SCURRENCY TEXT NOT NULL, BFLIGHT BLOB, FOREIGN KEY (LJOURNEYID) REFERENCES JOURNEY(LID));
CREATE UNIQUE INDEX IF NOT EXISTS JOURNEY_DATA_JOURNEYID_UPDATE_IDX ON JOURNEY_DATA(LJOURNEYID, TUPDATE);

CREATE TABLE IF NOT EXISTS DATA_PACKAGE (SID TEXT PRIMARY KEY, TCREATED TEXT, TINSERTED TEXT);